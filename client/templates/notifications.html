<!-- notification template -->
<script type="text/template" id="fruum-template-notification">
  <div class="fruum-base-object fruum-link fruum-interactive-element fruum-js-navigate fruum-js-entry-notification">
    <div class="fruum-avatar">
      <% if (type === 'category') { %>
      <span
        class="fruum-avatar-icon"
        data-initials="<%- Fruum.utils.printInitials(initials) %>">
        <%- initials %>
      </span>
      <% } else if (Fruum.utils.isLink(user_avatar)) { %>
      <img src="<%= user_avatar %>" class="fruum-avatar-icon" width="56"/>
      <% } else { %>
      <span
        class="fruum-avatar-icon"
        data-initials="<%- Fruum.utils.getInitials(user_displayname) %>">
        <%- Fruum.utils.getInitials(user_displayname) %>
      </span>
      <% } %>
    </div>

    <div class="fruum-object-main-data">
      <div class="fruum-stream-typography">
        <h4>
          <a class="fruum-link">
            <%= Fruum.utils.printHeader(header) %>
          </a>
        </h4>
      </div>
    </div>
    <% if (body) { %>
    <div class="fruum-object-additional-data">
      <span class="fruum-secondary-data">
        <%= Fruum.utils.print(body, attachments) %>
      </span>
    </div>
    <% } %>
    <div class="fruum-object-additional-data">
      <% if (type !== 'category' && (user_displayname || user_username)) { %>
      <div class="fruum-primary-data">by <%- user_displayname || user_username %></div>
      <% } %>
      <span class="fruum-secondary-data">
        <% if (type === 'category') { %>
          Category content has been updated
        <% } else if (children_count) { %>
          <%- children_count %> posts, last one <%- Fruum.libs.moment(parseInt(updated)).fromNow() %>
        <% } %>
      </span>
    </div>
    <% if (type !== 'category') { %>
    <div class="fruum-object-meta">
      <span class="fruum-avatar-icon" data-initials="<%- Fruum.utils.printInitials(initials) %>"><%- initials %></span>
    </div>
    <% } %>
  </div>
</script>
